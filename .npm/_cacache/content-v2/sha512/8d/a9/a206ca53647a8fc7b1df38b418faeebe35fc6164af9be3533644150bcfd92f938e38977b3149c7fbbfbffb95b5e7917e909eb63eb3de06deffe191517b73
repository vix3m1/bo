{"_id":"utif2","_rev":"2-d860a82c57937d48afd713dc2768213b","name":"utif2","dist-tags":{"latest":"4.1.0"},"versions":{"4.0.0":{"name":"utif2","description":"Fast and advanced TIFF decoder","version":"4.0.0","homepage":"https://github.com/photopea/UTIF.js","author":{"name":"photopea","url":"https://github.com/photopea"},"contributors":[{"name":"Photopea","url":"https://github.com/photopea"},{"name":"Jaroslav Bereza","url":"https://github.com/jardicc"},{"name":"Scimonster","url":"https://github.com/Scimonster"}],"license":"MIT","repository":{"type":"git","url":"git+https://github.com/photopea/UTIF.js.git"},"bugs":{"url":"https://github.com/photopea/UTIF.js/issues"},"main":"UTIF","keywords":["tif","tiff","image","conversion"],"dependencies":{"pako":"^1.0.11"},"_id":"utif2@4.0.0","_nodeVersion":"16.13.0","_npmVersion":"8.1.0","dist":{"integrity":"sha512-wwfPuStl9JnQeULyDT0QdgCSLdmIc1DcYrXjk9ejYE+sCPYFdT8UhCjs1i+/LKCFh0LxYGCMphkXpYv2YX4EuA==","shasum":"fc8f2f3c225518bb901ce50355cf2625446ec4ca","tarball":"https://registry.npmjs.org/utif2/-/utif2-4.0.0.tgz","fileCount":4,"unpackedSize":87916,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQDEGdZxbS/dSVI8EaJGlBTYPoFFE3x22/TooGtSt/2SxAIgfP2K186tUluoBlRUUWeWSO1szAo7947M8zNNn0D46kI="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJicv0IACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmrdZg//R2fQthZaE0nscnVbfREQV23lf3jyl4pjSuY+zce3vLGivgmb\r\nZjKzknn+iEcVSZw0b1eCxBOx2GUswQGeJ29Tkb8zTyNCrrj+KvhNJfIqCxaD\r\nDcLWpLERJtMtw3ERJaXi8s1a7faTkYlnfkf0/FESswahQl+moiN/OAqIAlbS\r\nm9LWYlyhrasCepSC5RJB5qLadUW8wxVaiqCYpedkbfYVoS/fffHUwu8dnco4\r\neAyTCflaqSGS3sW+QjLtDbnXBTYSBcuRlS8lMF+gnp1tDvjjzZEuLKkTkbJz\r\nDAah6BWCA0VHKBbwI4cpDKtB922St509xmei8j91X7BAJ5DgJGsCnBu05+FF\r\nhrZ6k/5jgtuaP/TkFxxC6cKF4cA2g1Mz1TLbOhC0Qu18g0LZyoaG/IPUER59\r\nB9j5n15sdnaRKVLDPl2UTPM3xHZziZIFrTr58j4azGDV2l2M1vvZyEC3sQ6A\r\nj6ug/esism3avCVT2QA1gpwKbNNi85RXanRWOubkMiZxnejFDMD8tgY77oQ/\r\n6HvI3GhIwmISEEU79l+RcH94vNZQ5G55JxuQ8gVY9GLKONIdUkb+QHyrjwpi\r\nb4sp8Lr1GDn8OHL/xQ5hkvJ6YfitDuvGUVKY+YGLl1xTo/V3y8TWKAejtrAo\r\nYD8qlPm5OiMDmN4hdxwpg/qEx+OBB8kLjTk=\r\n=bF7Z\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"jbereza","email":"j@bereza.cz"},"directories":{},"maintainers":[{"name":"jbereza","email":"j@bereza.cz"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/utif2_4.0.0_1651703048556_0.2162397144541981"},"_hasShrinkwrap":false},"4.0.1":{"name":"utif2","description":"Fast and advanced TIFF decoder","version":"4.0.1","homepage":"https://github.com/photopea/UTIF.js","author":{"name":"photopea","url":"https://github.com/photopea"},"contributors":[{"name":"Photopea","url":"https://github.com/photopea"},{"name":"Jaroslav Bereza","url":"https://github.com/jardicc"},{"name":"Scimonster","url":"https://github.com/Scimonster"}],"license":"MIT","repository":{"type":"git","url":"git+https://github.com/photopea/UTIF.js.git"},"bugs":{"url":"https://github.com/photopea/UTIF.js/issues"},"main":"UTIF","keywords":["tif","tiff","image","conversion"],"dependencies":{"pako":"^1.0.11"},"types":"./UTIF.d.ts","_id":"utif2@4.0.1","_nodeVersion":"16.13.0","_npmVersion":"8.1.0","dist":{"integrity":"sha512-KMaD76dbzK1VjbwsckHJiqDjhP3pbpwyV+FdqkY6XFQenc2o/HS6pjPSYdu4+NQMHf2NLTW+nVP/eFP1CvOYQQ==","shasum":"562433ef58d76b16d85638f052b2d8486122062c","tarball":"https://registry.npmjs.org/utif2/-/utif2-4.0.1.tgz","fileCount":5,"unpackedSize":90723,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIDNtKxyU4LRtt+ja2kxLskwR7y+efZ6FRBcLSNNdZ9sjAiEA7u1Ax9MHhX1MLmJiZ/EhOLLQUFPPvRIDoAz8ZC8qgUg="}],"npm-signature":"-----BEGIN PGP SIGNATURE-----\r\nVersion: OpenPGP.js v4.10.10\r\nComment: https://openpgpjs.org\r\n\r\nwsFzBAEBCAAGBQJicv7vACEJED1NWxICdlZqFiEECWMYAoorWMhJKdjhPU1b\r\nEgJ2VmpCfBAAo4F9YYrELHoZ2Al/mOchoViHFhSLUvPoeXwlp4bMwAszOJT7\r\nunuAyOv/APCI5Q9DDTheIH9lnED52T/We3ew5EhFLdXa6aCSxPRqFi/XWYYL\r\nSm1ezDvBvTlakx+A/rePhf6lQsK+2Sf+uWOjSWdbyuiyfsdX27KI6eE4b26Y\r\nHy106880Ez75buU5cGBGPk7axMXpN8eCn2PxssSwOcj1kW1U5ECKzBkHW2W8\r\n3ljnTUl7rNXVYS3W7kae5YY6hGP7D8hKzv8q9WUbg13LpVue0ejr5ILNADiZ\r\n/e+U1RhO0c7d1fIosRTPTFj/1ffaMl/dPr7X7Ks4FjMCZ1bChrujZRpt1cim\r\nSQ90dFOM8Y7fJMTpcIgRdpuPScuLpOWN+B5dWO3y4UpVGH2FeLAstIkshSUy\r\nR3GZ/N3xAMx+o+inLJlQBl33Hv1eeI5RWAyXKUJaMNZQwEMaPGYztbVyn2wB\r\nMdgB6+TLQBrQC7C+RlACjfRyO2RfCF29fkUUY1MuYQNXdDhNdEJ1yQfb4NL6\r\n9RT0K8PkLEnKhjrgfD3bhOU3PckLFO/LHAhARU0hhVEBOb97st8/jCIomlsG\r\niUyJSO7yU9sC2bZwEU3gjEeeJqG14GNuh1TNWtMDx2LvFFK537gmbLoC/ZpZ\r\n/VG4xrGFf+ipfR+PkeLh/KBAFyaKlQTce9k=\r\n=kR1g\r\n-----END PGP SIGNATURE-----\r\n"},"_npmUser":{"name":"jbereza","email":"j@bereza.cz"},"directories":{},"maintainers":[{"name":"jbereza","email":"j@bereza.cz"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/utif2_4.0.1_1651703534998_0.9087714293429503"},"_hasShrinkwrap":false},"4.1.0":{"name":"utif2","description":"Fast and advanced TIFF decoder","version":"4.1.0","homepage":"https://github.com/photopea/UTIF.js","author":{"name":"photopea","url":"https://github.com/photopea"},"contributors":[{"name":"Photopea","url":"https://github.com/photopea"},{"name":"Jaroslav Bereza","url":"https://github.com/jardicc"},{"name":"Scimonster","url":"https://github.com/Scimonster"}],"license":"MIT","repository":{"type":"git","url":"git+https://github.com/photopea/UTIF.js.git"},"bugs":{"url":"https://github.com/photopea/UTIF.js/issues"},"main":"UTIF","keywords":["tif","tiff","image","conversion"],"dependencies":{"pako":"^1.0.11"},"types":"./UTIF.d.ts","_id":"utif2@4.1.0","_nodeVersion":"16.16.0","_npmVersion":"8.11.0","dist":{"integrity":"sha512-+oknB9FHrJ7oW7A2WZYajOcv4FcDR4CfoGB0dPNfxbi4GO05RRnFmt5oa23+9w32EanrYcSJWspUiJkLMs+37w==","shasum":"e768d37bd619b995d56d9780b5d2b4611a3d932b","tarball":"https://registry.npmjs.org/utif2/-/utif2-4.1.0.tgz","fileCount":5,"unpackedSize":104760,"signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEUCIQC99aKObhbZggrUxVPCFNNFYSOia8snGBxhe7ptSkUYwAIgbK7LK1OPyJmaW8hevqzXFCkZXVh9Y+QuRb8DHZZKvbA="}]},"_npmUser":{"name":"jbereza","email":"j@bereza.cz"},"directories":{},"maintainers":[{"name":"jbereza","email":"j@bereza.cz"}],"_npmOperationalInternal":{"host":"s3://npm-registry-packages","tmp":"tmp/utif2_4.1.0_1683392226958_0.944401727404161"},"_hasShrinkwrap":false}},"time":{"created":"2022-05-04T22:24:08.555Z","4.0.0":"2022-05-04T22:24:08.750Z","modified":"2023-05-06T16:57:07.317Z","4.0.1":"2022-05-04T22:32:15.174Z","4.1.0":"2023-05-06T16:57:07.182Z"},"maintainers":[{"name":"jbereza","email":"j@bereza.cz"}],"description":"Fast and advanced TIFF decoder","homepage":"https://github.com/photopea/UTIF.js","keywords":["tif","tiff","image","conversion"],"repository":{"type":"git","url":"git+https://github.com/photopea/UTIF.js.git"},"contributors":[{"name":"Photopea","url":"https://github.com/photopea"},{"name":"Jaroslav Bereza","url":"https://github.com/jardicc"},{"name":"Scimonster","url":"https://github.com/Scimonster"}],"author":{"name":"photopea","url":"https://github.com/photopea"},"bugs":{"url":"https://github.com/photopea/UTIF.js/issues"},"license":"MIT","readme":"\n# UTIF2\n## This is newer version of [UTIF](https://www.npmjs.com/package/utif)\n\nSince last update of UTIF was 18/6/2019 and [Photopea does not touch npm](https://github.com/photopea/UTIF.js/issues/106) at all and neither 3rd party developer is keeping package up to date with GitHub repo... this package is just updated version of utif (from npm) but with many improvements.\n\n## About\n\nA small, fast and advanced TIFF / EXIF (+ DNG, CR2, NEF and other TIFF-ish files) decoder and encoder. It is the main TIFF library for [Photopea image editor](https://www.photopea.com). Try to open your TIFF file with Photopea to see, if UTIF.js can parse it.\n\n* Supports Black & White, Grayscale, RGB and Paletted images\n* Supports Fax 3 and Fax 4 (CCITT), JPEG, LZW, PackBits and other compressions (1,3,4,5,6,7,8,32773,32809)\n* E.g. [this 8 MPix image](//www.photopea.com/api/img/G4.TIF) with Fax 4 compression is just 56 kB ( [Open in Photopea](https://www.photopea.com?p=%7B%22files%22:%5B%22//www.photopea.com/api/img/G4.TIF%22%5D%7D) )\n\nFor RAW files, UTIF.js only decodes raw sensor data (and JPG previews, if there are any). It does not convert the raw data into a displayable image (RGBA). Such conversion is complex and out of scope of this library.\n\n## Installation\n\nDownload and include the `UTIF.js` file in your code. If you're in NodeJS or otherwise using NPM, run:\n\n```sh\nnpm install utif\n```\n\n#### `UTIF.decode(buffer)`\n* `buffer`: ArrayBuffer containing TIFF or EXIF data\n* returns an array of \"IFDs\" (image file directories). Each IFD is an object, keys are \"tXYZ\" (XYZ is a TIFF tag number), values are values of these tags. You can get the the dimension (and other properties, \"metadata\") of the image without decompressing pixel data.\n\n#### `UTIF.decodeImage(buffer, ifd)`\n* `buffer`: ArrayBuffer containing TIFF or EXIF data\n* `ifd`: the element of the output of UTIF.decode()\n* If there is an image inside the IFD, it is decoded and three new properties are added to the IFD:\n* * `width`: the width of the image\n* * `height`: the height of the image\n* * `data`: decompressed pixel data of the image\n\nTIFF files may have various number of channels and various color depth. The interpretation of `data` depends on many tags (see the [TIFF 6 specification](http://www.npes.org/pdf/TIFF-v6.pdf)). The following function converts any TIFF image into a 8-bit RGBA image.\n\n#### `UTIF.toRGBA8(ifd)`\n* `ifd`: image file directory (element of \"ifds\" returned by UTIF.decode(), processed by UTIF.decodeImage())\n* returns Uint8Array of the image in RGBA format, 8 bits per channel (ready to use in context2d.putImageData() etc.)\n\n### Example\n\n```javascript\nfunction imgLoaded(e) {\n  var ifds = UTIF.decode(e.target.response);\n  UTIF.decodeImage(e.target.response, ifds[0])\n  var rgba  = UTIF.toRGBA8(ifds[0]);  // Uint8Array with RGBA pixels\n  console.log(ifds[0].width, ifds[0].height, ifds[0]);\n}\n\nvar xhr = new XMLHttpRequest();\nxhr.open(\"GET\", \"my_image.tif\");\nxhr.responseType = \"arraybuffer\";\nxhr.onload = imgLoaded;   xhr.send();\n```\n## Use TIFF images in HTML\n\nIf you are not a programmer, you can use TIFF images directly inside the `<img>` element of HTML. Then, it is enough to call `UTIF.replaceIMG()` once at some point.\n\n#### `UTIF.replaceIMG()`\n```html\n<body onload=\"UTIF.replaceIMG()\">\n...\n<img src=\"image.tif\" />  <img src=\"dog.tif\" /> ...\n```\nAnd UTIF.js will do the rest. Internally, the \"src\" attribute of the image will be replaced with a new URI of the image (base64-encoded PNG). Note, that you can also insert DNG, CR2, NEF and other raw images into HTML this way.\n\n## Encoding TIFF images\n\nYou should not save images into TIFF format in the 21st century. Save them as PNG instead (e.g. using [UPNG.js](https://github.com/photopea/UPNG.js)). If you still want to use TIFF format for some reason, here it is.\n\n#### `UTIF.encodeImage(rgba, w, h, metadata)`\n* `rgba`: ArrayBuffer containing RGBA pixel data\n* `w`: image width\n* `h`: image height\n* `metadata` [optional]: IFD object (see below)\n* returns ArrayBuffer of the binary TIFF file. No compression right now.\n\n#### `UTIF.encode(ifds)`\n* `ifds`: array of IFDs (image file directories). An IFD is a JS object with properties \"tXYZ\" (where XYZ are TIFF tags)\n* returns ArrayBuffer of binary data. You can use it to encode EXIF data.\n\n## Dependencies\nTIFF format sometimes uses Inflate algorithm for compression (but it is quite rare). Right now, UTIF.js calls [Pako.js](https://github.com/nodeca/pako) for the Inflate method.\n","readmeFilename":"README.md"}